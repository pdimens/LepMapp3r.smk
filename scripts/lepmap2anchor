#! /usr/bin/env bash

LG=$(ls *.intervals | wc -l)

if [ ! -f $1 ]; then
echo "error: marker file $(echo $1) not found"
exit 1
fi

for i in $(seq 1 $LG); do
    awk -vn=$i '(NR==FNR){map[NR-1]=$0}(NR!=FNR){$1=map[$1] "\t" n;print}' $1 ordered.$i.intervals >> lepmap3_map.la
done
